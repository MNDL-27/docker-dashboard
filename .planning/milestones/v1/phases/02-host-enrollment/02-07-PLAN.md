---
phase: 02-host-enrollment
plan: 07
type: execute
wave: 6
depends_on: ["02-06"]
files_modified:
  - apps/web/src/app/(dashboard)/fleet/[hostId]/page.tsx
  - apps/web/src/components/fleet/ContainerTable.tsx
autonomous: true
requirements:
  - CONT-04
  - CONT-05

must_haves:
  truths:
    - User can navigate to a single Host detail page
    - User can view, filter, and search a list of containers deployed on the host
  artifacts:
    - path: apps/web/src/app/(dashboard)/fleet/[hostId]/page.tsx
      provides: Host Detail Route
    - path: apps/web/src/components/fleet/ContainerTable.tsx
      provides: Realtime/snapshot table of containers
---

<objective>
Implement the Web UI Host Detail view and Container Inventory table with client-side filtering and search.
</objective>

<execution_context>
@C:/Users/proti/.config/opencode/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/REQUIREMENTS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Host Detail View</name>
  <files>apps/web/src/app/(dashboard)/fleet/[hostId]/page.tsx</files>
  <action>
Create the Host Detail route:
- Parse `hostId` from params.
- Fetch single host details `GET /api/hosts/:hostId`.
- Layout with a header showing Hostname, OS, Status, and Docker version.
  </action>
  <verify>Route compiles and accepts dynamic hostId parameters</verify>
  <done>User can navigate from Fleet list to individual Host view</done>
</task>

<task type="auto">
  <name>Task 2: Container Inventory Table with Filters</name>
  <files>apps/web/src/components/fleet/ContainerTable.tsx</files>
  <action>
Implement the table:
- Fetch containers for this host via `GET /api/hosts/:hostId/containers`.
- Columns: Name, Image, Status (running/exited), Ports, Started.
- Add client-side search input (filters by name/image).
- Add status dropdown filter (All, Running, Exited).
- Ensure modern UI with empty states and loading indicator.
  </action>
  <verify>Table correctly maps container API data and filters in UI</verify>
  <done>Containers are searchable and clearly presented to the user</done>
</task>

</tasks>

<verification>
Test clicking a host in the Fleet view and verifying the containers render accurately based on the API response.
</verification>

<success_criteria>
- Host details page renders correctly
- Container list is filterable and searchable
</success_criteria>

<output>
After completion, create .planning/phases/02-host-enrollment/02-07-SUMMARY.md
</output>
