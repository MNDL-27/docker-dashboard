---
phase: 01-foundation
plan: 08
type: execute
wave: 3
depends_on:
  - 07
  - 02
files_modified:
  - apps/web/package.json
  - apps/web/src/app/page.tsx
  - apps/web/src/app/login/page.tsx
  - apps/web/src/app/register/page.tsx
autonomous: true
requirements:
  - DEV-05

must_haves:
  truths:
    - cloud-web runs locally
  artifacts:
    - path: apps/web/package.json
      provides: Web package dependencies
      contains: next, react, @tanstack/react-query
    - path: apps/web/src/app/page.tsx
      provides: Home/dashboard page
      exports: React component
    - path: apps/web/src/app/login/page.tsx
      provides: Login page
      exports: React component
  key_links:
    - from: apps/web
      to: http://localhost:3001
      via: fetch
      pattern: fetch.*localhost:3001
---

<objective>
Create Next.js cloud web application with basic authentication UI.
</objective>

<execution_context>
@C:/Users/proti/.config/opencode/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/phases/01-foundation-identity/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Next.js app structure</name>
  <files>apps/web/package.json</files>
  <action>
Create apps/web/package.json with:

- name: cloud-web
- dependencies: next@15, react@19, react-dom@19, @tanstack/react-query, zod
- devDependencies: typescript, @types/*, tailwindcss, postcss
- scripts: dev, build, start

Create tsconfig.json, next.config.js, tailwind.config.ts (if using Tailwind).
  </action>
  <verify>
ls apps/web/package.json
  </verify>
  <done>Web package.json created with dependencies</done>
</task>

<task type="auto">
  <name>Task 2: Create login and register pages</name>
  <files>apps/web/src/app/login/page.tsx, apps/web/src/app/register/page.tsx</files>
  <action>
Create basic UI pages:

1. apps/web/src/app/login/page.tsx: Login form with email/password, submit to /auth/login
2. apps/web/src/app/register/page.tsx: Register form with email/password/name, submit to /auth/register

Include:
- Form validation with zod
- Error handling and display
- Loading states
- Link between login/register pages
  </action>
  <verify>
ls apps/web/src/app/login/page.tsx
  </verify>
  <done>Login and register pages exist</done>
</task>

<task type="auto">
  <name>Task 3: Create home/dashboard page</name>
  <files>apps/web/src/app/page.tsx</files>
  <action>
Create apps/web/src/app/page.tsx:

- If logged in: Show dashboard with org/project list or onboarding
- If not logged in: Redirect to /login

Use React Query for data fetching. Check auth via session cookie.
  </action>
  <verify>
ls apps/web/src/app/page.tsx
  </verify>
  <done>Home page exists with auth check</done>
</task>

</tasks>

<verification>
Start web via docker-compose and test: curl http://localhost:3000
</verification>

<success_criteria>
Web app starts, login/register pages render, auth flow works
</success_criteria>

<output>
After completion, create .planning/phases/01-foundation-identity/01-08-SUMMARY.md
</output>
