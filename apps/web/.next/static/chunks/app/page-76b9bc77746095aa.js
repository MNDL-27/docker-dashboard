(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{63:(e,n,a)=>{"use strict";var s=a(7260);a.o(s,"useRouter")&&a.d(n,{useRouter:function(){return s.useRouter}})},960:(e,n,a)=>{"use strict";a.d(n,{n:()=>t});let s=a(5704).env.NEXT_PUBLIC_API_URL||"http://localhost:3001";async function t(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:a="GET",body:t,headers:o={}}=n,r=await fetch("".concat(s).concat(e),{method:a,headers:{"Content-Type":"application/json",...o},credentials:"include",body:t?JSON.stringify(t):void 0});if(!r.ok)throw Error((await r.json().catch(()=>({error:"Request failed"}))).error||"HTTP ".concat(r.status));return r.json()}},8410:(e,n,a)=>{Promise.resolve().then(a.bind(a,9547))},9547:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>c});var s=a(5155),t=a(2115),o=a(63),r=a(960);function c(){let e=(0,o.useRouter)(),[n,a]=(0,t.useState)(null),[c,i]=(0,t.useState)(!0);async function l(){try{await (0,r.n)("/auth/logout",{method:"POST"})}finally{e.replace("/login")}}return((0,t.useEffect)(()=>{(0,r.n)("/api/me").then(e=>{a(e.user),i(!1)}).catch(()=>{e.replace("/login")})},[e]),c)?(0,s.jsx)("div",{className:"auth-container",children:(0,s.jsx)("span",{className:"spinner"})}):(0,s.jsxs)("div",{className:"dashboard-container",children:[(0,s.jsxs)("div",{className:"dashboard-header",children:[(0,s.jsx)("h1",{children:"Docker Dashboard Cloud"}),(0,s.jsx)("button",{className:"btn-logout",onClick:l,children:"Sign out"})]}),(0,s.jsxs)("div",{className:"welcome-card",children:[(0,s.jsxs)("h2",{children:["Welcome",(null==n?void 0:n.name)?", ".concat(n.name):"","!"]}),(0,s.jsx)("p",{children:"Your cloud dashboard is ready. Organizations and container management coming soon."})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=8410)),_N_E=e.O()}]);